<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Awesome-pyecharts</title>
    <script type="text/javascript" src="https://assets.pyecharts.org/assets/v5/echarts.min.js"></script>
</head>
<body style="background-color: rgba(240,248,255,0.5)">
    <div id="yearChart" class="chart-container" style="width:900px; height:500px;"></div>
    <div id="monthChart" class="chart-container" style="width:900px; height:500px; display: none;"></div>

    <script>
        var yearChart = echarts.init(document.getElementById('yearChart'), 'light', {renderer: 'canvas'});
        var monthChart = echarts.init(document.getElementById('monthChart'), 'light', {renderer: 'canvas'});

        var yearData = [8314, 6455.09, 8100.43, 6004.01];
        var years = ["2019", "2020", "2021", "2022"];

        var monthData = {
            "2019": [700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700, 1800],
            "2020": [600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600, 1700],
            "2021": [500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500, 1600],
            "2022": [400, 500, 600, 700, 800, 900, 1000, 1100, 1200, 1300, 1400, 1500]
        };

        var yearOption = {
            title: {
                text: '近几年海南旅游人次',
                left: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: '{b}: {c} 万'
            },
            xAxis: {
                type: 'category',
                data: years
            },
            yAxis: {
                type: 'value',
                name: '人次 (万)'
            },
            series: [{
                type: 'bar',
                name: '旅游人次 (单位：万)',
                data: yearData,
                itemStyle: {
                    color: 'green',
                    opacity: 0.8
                }
            }]
        };

        var monthOption = {
            title: {
                text: '',
                left: 'center'
            },
            tooltip: {
                trigger: 'axis'
            },
            xAxis: {
                type: 'category',
                data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
            },
            yAxis: {
                type: 'value',
                name: '人次 (万)'
            },
            series: [{
                type: 'line',
                name: '月度人次',
                data: []
            }]
        };

        yearChart.setOption(yearOption);

        yearChart.on('click', function (params) {
            var selectedYear = params.name;
            monthOption.title.text = selectedYear + ' 年每月人流量';
            monthOption.series[0].data = monthData[selectedYear];
            monthChart.setOption(monthOption);
            document.getElementById('monthChart').style.display = 'block';
        });
    </script>
</body>
</html>
