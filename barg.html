<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Awesome-pyecharts</title>
    <script type="text/javascript" src="https://assets.pyecharts.org/assets/v5/echarts.min.js"></script>
</head>
<body style="background-color: rgba(240,248,255,0.5)">
    <div id="yearChart" class="chart-container" style="width:900px; height:500px;"></div>
    <div id="monthChart" class="chart-container" style="width:900px; height:500px; display: none;"></div>

    <script>
        var yearChart = echarts.init(document.getElementById('yearChart'), 'light', {renderer: 'canvas'});
        var monthChart = echarts.init(document.getElementById('monthChart'), 'light', {renderer: 'canvas'});

        var yearData = [6773.13, 4182.59, 5795.3, 4885.86];
        var years = ["2019", "2020", "2021", "2022"];

        var monthData = {
            "2019": [500, 520, 580, 600, 620, 700, 750, 780, 800, 850, 900, 970],
            "2020": [400, 450, 500, 550, 600, 650, 700, 750, 800, 850, 900, 950],
            "2021": [450, 470, 490, 500, 530, 570, 600, 630, 670, 710, 740, 780],
            "2022": [300, 320, 350, 370, 400, 420, 450, 480, 500, 530, 560, 600]
        };

        var yearOption = {
            title: {
                text: '近几年广州旅游人次',
                left: 'center'
            },
            tooltip: {
                trigger: 'item',
                formatter: '{b}: {c} 万'
            },
            xAxis: {
                type: 'category',
                data: years
            },
            yAxis: {
                type: 'value',
                name: '人次 (万)'
            },
            series: [{
                type: 'bar',
                name: '旅游人次 (单位：万)',
                data: yearData,
                itemStyle: {
                    color: 'rgba(0,104,139,0.5)',
                    opacity: 0.8
                }
            }]
        };

        var monthOption = {
            title: {
                text: '',
                left: 'center'
            },
            tooltip: {
                trigger: 'axis'
            },
            xAxis: {
                type: 'category',
                data: ['1月', '2月', '3月', '4月', '5月', '6月', '7月', '8月', '9月', '10月', '11月', '12月']
            },
            yAxis: {
                type: 'value',
                name: '人次 (万)'
            },
            series: [{
                type: 'line',
                name: '月度人次',
                data: []
            }]
        };

        yearChart.setOption(yearOption);

        yearChart.on('click', function (params) {
            var selectedYear = params.name;
            monthOption.title.text = selectedYear + ' 年每月人流量';
            monthOption.series[0].data = monthData[selectedYear];
            monthChart.setOption(monthOption);
            document.getElementById('monthChart').style.display = 'block';
        });
    </script>
</body>
</html>
