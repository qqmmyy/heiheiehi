<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" content=”no-referrer”  name=”referrer”>
    <title>全国地图</title>
    <script src="https://cdn.jsdelivr.net/npm/echarts@5.5.0/dist/echarts.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
</head>
<body  style="background-color: rgba(240,248,255,0.5)">
    <div id="china" style="width:700px ; height: 700px;"></div>

<script type="text/javascript">
   var myChart = echarts.init(document.getElementById('china'));

// 指定图表的配置项和数据
myChart.showLoading();
$.get('china.json', function (geoJson) {
myChart.hideLoading();
echarts.registerMap('china', geoJson);
myChart.setOption(
  option = {
  title: {
      text: '中国地图',
  },

  geo: {
                 name: '中国地图',
                 type: 'map',
                 map: 'china',
                 selectedMode: 'multiple',
                },
visualMap: {
    seriesIndex: 0,
    show:false,
      min: 95,
      max: 1129,
      text: ['High', 'Low'],
      realtime: true,
      calculable: true,
      hoverLink:true,
      left:'400px',
      bottom:'200px',
      inRange: {
        color: ['#EDF6F9', '#B7D8DE', '#2A8795']      }
            },
  series: [
      {
      name: '中国地图',
      type: 'map',
      map: 'china',
      label: {
          show: true
      },
      data: [
          { name: '河北省', value: 420 },
          { name: '山西省', value: 216 },
          { name: '辽宁省', value: 512 },
          { name: '吉林省', value: 231 },
          { name: '黑龙江省', value: 411 },
          { name: '江苏省', value: 615 },
          { name: '浙江省', value: 798 },
          { name: '安徽省', value: 605 },
          { name: '福建省', value: 375 },
          { name: '江西省', value: 421 },
          { name: '山东省', value: 1229 },
          { name: '河南省', value: 519 },
          { name: '湖北省', value: 421 },
          { name: '湖南省', value: 482 },
          { name: '广东省', value: 414 },
          { name: '四川省', value: 679},
          { name: '贵州省', value: 420 },
          { name: '云南省', value: 343 },
          { name: '陕西省', value: 460 },
          { name: '甘肃省', value: 115 },
          { name: '青海省', value: 312 },
          { name: '台湾省', value: 0 },
          { name: '海南省', value: 62 },
          { name: '新疆维吾尔自治区', value: 496 },
          { name: '西藏自治区', value: 127 },
          { name: '广西壮族自治区', value: 560 },
          { name: '宁夏回族自治区', value: 96 },
          { name: '内蒙古自治区', value: 375 },
          { name: '重庆市', value: 242 },
          { name: '北京市', value: 238 },
          { name: '天津市', value: 95 },
          { name: '香港特别行政区', value: 0 },
          { name: '澳门特别行政区', value: 0 },
          { name: '上海市', value: 113 },
          { name: '南海诸岛', value: 0 },   
      ],   
      },
      {
                  name: '标记点',
                  type: 'effectScatter',
                  coordinateSystem: 'geo',
                  data: [
                        {name: '成都', value:[103,30.5], tooltipContent:'成都<br/>蜀都大地，天府之国<br/>95家A级景点'},
                        {name: '西安', value:[108.55,34.15], tooltipContent:'西安<br/>华夏故都，山水之城<br/>91家A级景点'},
                        {name: '厦门', value:[118.04,24.26], tooltipContent:'厦门<br/>鼓浪踏歌，心翔鹭岛<br/>21家A级景点'},
                        {name: '海南', value:[109.37,19.10], tooltipContent:'海南<br/>椰风海韵，生态海南<br/>89家A级景点'},
                        {name: '广州', value:[113.27,23.13], tooltipContent:'广州<br/>魅力广州，梦幻之城<br/>106家A级景点'},
                    ],
                  label:{
                    formatter: '{b}',
                    show:true,
                    position: 'right',
                  },

                  symbolSize: 10,
                  color:'#FFA54F',
                  visualMap:false


        },
  ],

  tooltip: {
          
          trigger: 'item',
          position: 'top',
          formatter:  function(params) {
        return params.data.tooltipContent; // 根据数据点的tooltipContent属性返回悬浮框内容
    },
  toolbox: {
      show: true,
      orient: 'vertical',
      left: 'right',
      top: 'center',
      feature: {
      dataView: { readOnly: false },
      restore: {},
      saveAsImage: {}
      }
  },

  });
});

myChart.on('click', function(params) {
      if (params.componentType === 'series') {
        if (params.seriesType === 'effectScatter') {
          var name = params.data.name;
          if (name === '成都') {
            window.parent.city.location.href = '成都地图.html';
            window.parent.chart.location.href = '成都词云.html';
          } 
          else if (name === '海南') {
            window.parent.city.location.href = '海南地图.html';
            window.parent.chart.location.href = '海南词云.html';
          }
          else if (name === '广州') {
            window.parent.city.location.href = '广州地图.html';
            window.parent.chart.location.href = '广州词云.html';
          }
          else if (name === '厦门') {
            window.parent.city.location.href = '厦门地图.html';
            window.parent.chart.location.href = '厦门词云.html';
          }
          else if (name === '西安') {
            window.parent.city.location.href = '西安地图.html';
            window.parent.chart.location.href = '西安词云.html';
          }
        }
      }
    });

</script>
</body>
</html>
